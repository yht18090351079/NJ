<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>供应大厅 - 农产品供销信息平台</title>
    <!-- 引入字体图标库 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <!-- 引入基础样式 -->
    <link rel="stylesheet" href="../app/css/style.css">
    <!-- 引入Web端通用样式 -->
    <link rel="stylesheet" href="css/web-style.css">
    <!-- 引入供应大厅特有样式 -->
    <link rel="stylesheet" href="css/supply-web.css">
    <!-- 页面描述 -->
    <meta name="description" content="农产品供应大厅，浏览全国各地优质农产品供应信息">
    <!-- 主题色 -->
    <meta name="theme-color" content="#2E8B57">
</head>

<body>
    <div class="app-container">
        <!-- Web端顶部导航栏 -->
        <header class="web-header">
            <div class="web-header-container">
                <!-- 左侧Logo -->
                <div class="web-logo">
                    <img src="images/logo.png" alt="农产品供销信息平台" class="logo-image">
                    <span class="logo-text">农产品供销信息平台</span>
                </div>

                <!-- 中间导航链接 -->
                <nav class="web-nav">
                    <a href="index.html" class="web-nav-link" data-page="index">首页</a>
                    <a href="supply.html" class="web-nav-link active" data-page="supply">供应大厅</a>
                    <a href="demand.html" class="web-nav-link" data-page="demand">需求大厅</a>
                    <a href="publish.html" class="web-nav-link" data-page="publish">发布信息</a>
                    <a href="user.html" class="web-nav-link" data-page="user">个人中心</a>
                </nav>

                <!-- 右侧用户区域 -->
                <div class="web-user-area">
                    <a href="login.html" class="login-btn" id="loginBtn">登录</a>
                    <a href="user.html" class="user-avatar-mini" id="userAvatarMini" style="display: none;">
                        <img src="../app/images/default-avatar.png" alt="用户头像" id="userAvatarImg">
                    </a>
                </div>
            </div>
        </header>

        <!-- 侧边栏菜单 -->
        <aside class="sidebar">
            <div class="sidebar-container">
                <div class="sidebar-header">
                    <img src="images/logo.png" alt="Logo" class="sidebar-logo">
                    <span class="sidebar-title">农产品供销平台</span>
                </div>

                <nav class="sidebar-menu">
                    <a href="index.html" class="sidebar-menu-item" data-page="index">
                        <i class="fas fa-home"></i>首页
                    </a>
                    <a href="supply.html" class="sidebar-menu-item active" data-page="supply">
                        <i class="fas fa-shopping-basket"></i>供应大厅
                    </a>
                    <a href="demand.html" class="sidebar-menu-item" data-page="demand">
                        <i class="fas fa-clipboard-list"></i>需求大厅
                    </a>
                    <a href="publish.html" class="sidebar-menu-item" data-page="publish">
                        <i class="fas fa-plus-circle"></i>发布信息
                    </a>
                    <a href="user.html" class="sidebar-menu-item" data-page="user">
                        <i class="fas fa-user"></i>个人中心
                    </a>
                </nav>
            </div>
        </aside>

        <!-- 主内容区 -->
        <main class="main-content">
            <div class="content-header">
                <h1 class="page-title">供应大厅</h1>
                <div class="content-actions">
                    <button class="action-button search-button">
                        <i class="fas fa-search"></i>
                        <span>搜索</span>
                    </button>
                    <button class="action-button filter-button">
                        <i class="fas fa-filter"></i>
                        <span>筛选</span>
                    </button>
                </div>
            </div>

            <!-- 筛选区域 -->
            <section class="filter-section">
                <div class="filter-header">
                    <h3 class="filter-title">筛选条件</h3>
                    <button class="filter-toggle">
                        <i class="fas fa-chevron-down"></i>
                    </button>
                </div>
                <div class="filter-content">
                    <div class="filter-group">
                        <label class="filter-label">品类</label>
                        <div class="filter-options">
                            <div class="filter-option active">全部</div>
                            <div class="filter-option">水果</div>
                            <div class="filter-option">蔬菜</div>
                            <div class="filter-option">粮油</div>
                            <div class="filter-option">肉类</div>
                            <div class="filter-option">海鲜</div>
                            <div class="filter-option">干货</div>
                            <div class="filter-option">其他</div>
                        </div>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">区域</label>
                        <div class="filter-options">
                            <div class="filter-option active">全国</div>
                            <div class="filter-option">华东</div>
                            <div class="filter-option">华南</div>
                            <div class="filter-option">华北</div>
                            <div class="filter-option">西南</div>
                            <div class="filter-option">东北</div>
                            <div class="filter-option">西北</div>
                        </div>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">认证</label>
                        <div class="filter-options">
                            <div class="filter-option active">全部</div>
                            <div class="filter-option">有机认证</div>
                            <div class="filter-option">绿色认证</div>
                            <div class="filter-option">地理标志</div>
                            <div class="filter-option">企业认证</div>
                        </div>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">价格范围</label>
                        <div class="price-range">
                            <div class="price-slider">
                                <div class="price-progress"></div>
                                <span class="price-handle min"></span>
                                <span class="price-handle max"></span>
                            </div>
                            <div class="price-inputs">
                                <div class="price-input-group">
                                    <span class="price-label">¥</span>
                                    <input type="number" class="price-input" placeholder="最低价" min="0" max="10000"
                                        value="0">
                                </div>
                                <span class="price-label">-</span>
                                <div class="price-input-group">
                                    <span class="price-label">¥</span>
                                    <input type="number" class="price-input" placeholder="最高价" min="0" max="10000"
                                        value="1000">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">供应周期</label>
                        <div class="filter-options">
                            <div class="filter-option active">全部</div>
                            <div class="filter-option">常年供应</div>
                            <div class="filter-option">季节性供应</div>
                            <div class="filter-option">一次性供应</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 排序工具栏 -->
            <section class="sort-toolbar">
                <div class="sort-options">
                    <div class="sort-option active">默认排序</div>
                    <div class="sort-option">最新发布</div>
                    <div class="sort-option">价格从低到高</div>
                    <div class="sort-option">价格从高到低</div>
                    <div class="sort-option">销量优先</div>
                </div>
                <div class="view-options">
                    <div class="view-option active" data-view="grid">
                        <i class="fas fa-th-large"></i>
                    </div>
                    <div class="view-option" data-view="list">
                        <i class="fas fa-list"></i>
                    </div>
                </div>
            </section>

            <!-- 产品列表区域 -->
            <section class="product-section">
                <div class="product-grid">
                    <!-- 产品卡片1 -->
                    <div class="product-card" data-id="product1">
                        <div class="product-image-wrapper">
                            <img src="images/product1.jpg" alt="红富士苹果" class="product-image" loading="lazy">
                            <div class="product-tags">
                                <span class="product-tag hot">热销</span>
                                <span class="product-tag quality">优选</span>
                            </div>
                            <div class="product-actions">
                                <button class="product-action-btn" title="收藏">
                                    <i class="far fa-heart"></i>
                                </button>
                                <input type="checkbox" id="compare-product1" class="product-compare-checkbox">
                                <label for="compare-product1" class="product-compare-label" title="加入对比">
                                    <i class="fas fa-balance-scale"></i>
                                </label>
                            </div>
                        </div>
                        <div class="product-content">
                            <h3 class="product-title">山东烟台红富士苹果</h3>
                            <div class="product-seller">
                                <img src="images/avatar1.jpg" alt="烟台果园" class="seller-avatar">
                                <span class="seller-name">烟台果园</span>
                                <span class="verified-seller">
                                    <i class="fas fa-check-circle"></i> 已认证
                                </span>
                            </div>
                            <div class="product-meta">
                                <div class="product-price">
                                    ¥6.5<span class="product-price-unit">/斤</span>
                                </div>
                                <div class="product-inventory">
                                    <i class="fas fa-cubes"></i> 库存: 10000斤
                                </div>
                            </div>
                            <div class="product-details">
                                <div class="product-detail-item">
                                    <span class="detail-label">产地:</span>
                                    <span class="detail-value">山东烟台</span>
                                </div>
                                <div class="product-detail-item">
                                    <span class="detail-label">规格:</span>
                                    <span class="detail-value">85mm以上</span>
                                </div>
                                <div class="product-detail-item">
                                    <span class="detail-label">发货地:</span>
                                    <span class="detail-value">山东烟台</span>
                                </div>
                                <div class="product-detail-item">
                                    <span class="detail-label">供应周期:</span>
                                    <span class="detail-value">常年供应</span>
                                </div>
                                <div class="product-detail-item">
                                    <span class="detail-label">最小起订:</span>
                                    <span class="detail-value">5斤</span>
                                </div>
                                <div class="product-detail-item">
                                    <span class="detail-label">更新时间:</span>
                                    <span class="detail-value">2023-07-20</span>
                                </div>
                            </div>
                            <p class="product-desc">
                                烟台红富士苹果，色泽鲜艳，口感脆甜，果肉细腻，富含维生素，现摘现发，品质保证。
                            </p>
                            <div class="product-footer">
                                <div class="product-badges">
                                    <span class="product-badge green">包邮</span>
                                    <span class="product-badge">7天退换</span>
                                </div>
                                <div class="product-contact">
                                    <button class="contact-btn" title="发送消息">
                                        <i class="fas fa-comment"></i>
                                    </button>
                                    <button class="contact-btn primary" title="电话联系">
                                        <i class="fas fa-phone-alt"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 产品卡片2 -->
                    <div class="product-card" data-id="product2">
                        <div class="product-image-wrapper">
                            <img src="images/product2.jpg" alt="有机蔬菜礼盒" class="product-image" loading="lazy">
                            <div class="product-tags">
                                <span class="product-tag organic">有机</span>
                                <span class="product-tag new">新品</span>
                            </div>
                            <div class="product-actions">
                                <button class="product-action-btn" title="收藏">
                                    <i class="far fa-heart"></i>
                                </button>
                                <input type="checkbox" id="compare-product2" class="product-compare-checkbox">
                                <label for="compare-product2" class="product-compare-label" title="加入对比">
                                    <i class="fas fa-balance-scale"></i>
                                </label>
                            </div>
                        </div>
                        <div class="product-content">
                            <h3 class="product-title">有机蔬菜礼盒装</h3>
                            <div class="product-seller">
                                <img src="images/avatar2.jpg" alt="绿色农场" class="seller-avatar">
                                <span class="seller-name">绿色农场</span>
                                <span class="verified-seller">
                                    <i class="fas fa-check-circle"></i> 已认证
                                </span>
                            </div>
                            <div class="product-meta">
                                <div class="product-price">
                                    ¥168<span class="product-price-unit">/箱</span>
                                </div>
                                <div class="product-inventory">
                                    <i class="fas fa-cubes"></i> 库存: 500箱
                                </div>
                            </div>
                            <div class="product-details">
                                <div class="product-detail-item">
                                    <span class="detail-label">产地:</span>
                                    <span class="detail-value">北京顺义</span>
                                </div>
                                <div class="product-detail-item">
                                    <span class="detail-label">规格:</span>
                                    <span class="detail-value">8种蔬菜/箱</span>
                                </div>
                                <div class="product-detail-item">
                                    <span class="detail-label">发货地:</span>
                                    <span class="detail-value">北京顺义</span>
                                </div>
                                <div class="product-detail-item">
                                    <span class="detail-label">供应周期:</span>
                                    <span class="detail-value">常年供应</span>
                                </div>
                                <div class="product-detail-item">
                                    <span class="detail-label">最小起订:</span>
                                    <span class="detail-value">1箱</span>
                                </div>
                                <div class="product-detail-item">
                                    <span class="detail-label">更新时间:</span>
                                    <span class="detail-value">2023-07-25</span>
                                </div>
                            </div>
                            <p class="product-desc">
                                无农药、无化肥，有机认证，含8种时令蔬菜，每周定期配送，营养健康又新鲜。
                            </p>
                            <div class="product-footer">
                                <div class="product-badges">
                                    <span class="product-badge green">有机认证</span>
                                    <span class="product-badge">全国配送</span>
                                </div>
                                <div class="product-contact">
                                    <button class="contact-btn" title="发送消息">
                                        <i class="fas fa-comment"></i>
                                    </button>
                                    <button class="contact-btn primary" title="电话联系">
                                        <i class="fas fa-phone-alt"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 产品卡片3 -->
                    <div class="product-card" data-id="product3">
                        <div class="product-image-wrapper">
                            <img src="images/product3.jpg" alt="东北大米" class="product-image" loading="lazy">
                            <div class="product-tags">
                                <span class="product-tag quality">特产</span>
                            </div>
                            <div class="product-actions">
                                <button class="product-action-btn" title="收藏">
                                    <i class="far fa-heart"></i>
                                </button>
                                <input type="checkbox" id="compare-product3" class="product-compare-checkbox">
                                <label for="compare-product3" class="product-compare-label" title="加入对比">
                                    <i class="fas fa-balance-scale"></i>
                                </label>
                            </div>
                        </div>
                        <div class="product-content">
                            <h3 class="product-title">五常稻花香大米</h3>
                            <div class="product-seller">
                                <img src="images/avatar3.jpg" alt="五常米业" class="seller-avatar">
                                <span class="seller-name">五常米业</span>
                                <span class="verified-seller">
                                    <i class="fas fa-check-circle"></i> 已认证
                                </span>
                            </div>
                            <div class="product-meta">
                                <div class="product-price">
                                    ¥98<span class="product-price-unit">/10斤</span>
                                </div>
                                <div class="product-inventory">
                                    <i class="fas fa-cubes"></i> 库存: 10000袋
                                </div>
                            </div>
                            <div class="product-details">
                                <div class="product-detail-item">
                                    <span class="detail-label">产地:</span>
                                    <span class="detail-value">黑龙江五常</span>
                                </div>
                                <div class="product-detail-item">
                                    <span class="detail-label">规格:</span>
                                    <span class="detail-value">10斤/袋</span>
                                </div>
                                <div class="product-detail-item">
                                    <span class="detail-label">发货地:</span>
                                    <span class="detail-value">黑龙江哈尔滨</span>
                                </div>
                                <div class="product-detail-item">
                                    <span class="detail-label">供应周期:</span>
                                    <span class="detail-value">常年供应</span>
                                </div>
                                <div class="product-detail-item">
                                    <span class="detail-label">最小起订:</span>
                                    <span class="detail-value">1袋</span>
                                </div>
                                <div class="product-detail-item">
                                    <span class="detail-label">更新时间:</span>
                                    <span class="detail-value">2023-07-18</span>
                                </div>
                            </div>
                            <p class="product-desc">
                                东北黑土地种植，颗粒饱满，香糯可口，2022年新米，真空包装，保证新鲜。
                            </p>
                            <div class="product-footer">
                                <div class="product-badges">
                                    <span class="product-badge green">地理标志</span>
                                    <span class="product-badge">7天退换</span>
                                </div>
                                <div class="product-contact">
                                    <button class="contact-btn" title="发送消息">
                                        <i class="fas fa-comment"></i>
                                    </button>
                                    <button class="contact-btn primary" title="电话联系">
                                        <i class="fas fa-phone-alt"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 产品卡片4 -->
                    <div class="product-card" data-id="product4">
                        <div class="product-image-wrapper">
                            <img src="images/product4.jpg" alt="猕猴桃" class="product-image" loading="lazy">
                            <div class="product-tags">
                                <span class="product-tag new">新鲜</span>
                            </div>
                            <div class="product-actions">
                                <button class="product-action-btn" title="收藏">
                                    <i class="far fa-heart"></i>
                                </button>
                                <input type="checkbox" id="compare-product4" class="product-compare-checkbox">
                                <label for="compare-product4" class="product-compare-label" title="加入对比">
                                    <i class="fas fa-balance-scale"></i>
                                </label>
                            </div>
                        </div>
                        <div class="product-content">
                            <h3 class="product-title">陕西眉县猕猴桃</h3>
                            <div class="product-seller">
                                <img src="images/avatar4.jpg" alt="眉县果农" class="seller-avatar">
                                <span class="seller-name">眉县果农</span>
                                <span class="verified-seller">
                                    <i class="fas fa-check-circle"></i> 已认证
                                </span>
                            </div>
                            <div class="product-meta">
                                <div class="product-price">
                                    ¥89<span class="product-price-unit">/10斤</span>
                                </div>
                                <div class="product-inventory">
                                    <i class="fas fa-cubes"></i> 库存: 5000斤
                                </div>
                            </div>
                            <div class="product-details">
                                <div class="product-detail-item">
                                    <span class="detail-label">产地:</span>
                                    <span class="detail-value">陕西眉县</span>
                                </div>
                                <div class="product-detail-item">
                                    <span class="detail-label">规格:</span>
                                    <span class="detail-value">单果90g以上</span>
                                </div>
                                <div class="product-detail-item">
                                    <span class="detail-label">发货地:</span>
                                    <span class="detail-value">陕西宝鸡</span>
                                </div>
                                <div class="product-detail-item">
                                    <span class="detail-label">供应周期:</span>
                                    <span class="detail-value">季节性供应</span>
                                </div>
                                <div class="product-detail-item">
                                    <span class="detail-label">最小起订:</span>
                                    <span class="detail-value">10斤</span>
                                </div>
                                <div class="product-detail-item">
                                    <span class="detail-label">更新时间:</span>
                                    <span class="detail-value">2023-07-28</span>
                                </div>
                            </div>
                            <p class="product-desc">
                                富含维C，果肉鲜嫩，酸甜可口，产地直发，现摘现发，保证新鲜度，支持货到付款。
                            </p>
                            <div class="product-footer">
                                <div class="product-badges">
                                    <span class="product-badge green">包邮</span>
                                    <span class="product-badge">产地直发</span>
                                </div>
                                <div class="product-contact">
                                    <button class="contact-btn" title="发送消息">
                                        <i class="fas fa-comment"></i>
                                    </button>
                                    <button class="contact-btn primary" title="电话联系">
                                        <i class="fas fa-phone-alt"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 分页 -->
                <div class="pagination">
                    <div class="pagination-controls">
                        <a href="#" class="pagination-prev">
                            <i class="fas fa-chevron-left"></i>
                        </a>
                        <a href="#" class="pagination-item active">1</a>
                        <a href="#" class="pagination-item">2</a>
                        <a href="#" class="pagination-item">3</a>
                        <span class="pagination-ellipsis">...</span>
                        <a href="#" class="pagination-item">10</a>
                        <a href="#" class="pagination-next">
                            <i class="fas fa-chevron-right"></i>
                        </a>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- 底部导航栏 - 移动端 -->
    <nav class="bottom-navbar">
        <div class="nav-items">
            <a href="index.html" class="nav-item" data-page="index">
                <i class="fas fa-home"></i>
                <span>首页</span>
            </a>
            <a href="supply.html" class="nav-item active" data-page="supply">
                <i class="fas fa-shopping-basket"></i>
                <span>供应大厅</span>
            </a>
            <a href="publish.html" class="nav-item nav-publish">
                <div class="publish-btn">
                    <i class="fas fa-plus"></i>
                </div>
                <span>发布</span>
            </a>
            <a href="demand.html" class="nav-item" data-page="demand">
                <i class="fas fa-clipboard-list"></i>
                <span>需求大厅</span>
            </a>
            <a href="user.html" class="nav-item" data-page="user">
                <i class="fas fa-user"></i>
                <span>个人中心</span>
            </a>
        </div>
    </nav>

    <!-- 产品对比栏 -->
    <div class="compare-bar" id="compareBar">
        <div class="compare-title">产品对比</div>
        <div class="compare-items" id="compareItems">
            <!-- 对比项将由JavaScript动态添加 -->
        </div>
        <button class="compare-button" id="startCompare">开始对比</button>
        <span class="compare-clear" id="clearCompare">清空</span>
    </div>

    <!-- 引入主JavaScript文件 -->
    <script src="../app/js/main.js"></script>
    <!-- 引入应用程序交互脚本 -->
    <script src="../app/js/app.js"></script>
    <!-- 引入Web端特有脚本 -->
    <script src="js/web-app.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // 筛选栏展开/收起功能
            const filterToggle = document.querySelector('.filter-toggle');
            const filterContent = document.querySelector('.filter-content');

            if (filterToggle && filterContent) {
                filterToggle.addEventListener('click', function () {
                    filterContent.classList.toggle('filter-open');
                    this.classList.toggle('filter-toggle-open');
                });
            }

            // 视图切换功能：网格/列表
            const viewOptions = document.querySelectorAll('.view-option');
            const productGrid = document.querySelector('.product-grid');

            if (viewOptions.length > 0 && productGrid) {
                viewOptions.forEach(option => {
                    option.addEventListener('click', function () {
                        const view = this.getAttribute('data-view');

                        // 移除所有视图选项的活动状态
                        viewOptions.forEach(opt => opt.classList.remove('active'));

                        // 添加当前选项的活动状态
                        this.classList.add('active');

                        // 切换视图类
                        if (view === 'grid') {
                            productGrid.classList.remove('list-view');
                        } else {
                            productGrid.classList.add('list-view');
                        }
                    });
                });
            }

            // 产品对比功能
            const compareCheckboxes = document.querySelectorAll('.product-compare-checkbox');
            const compareBar = document.getElementById('compareBar');
            const compareItems = document.getElementById('compareItems');
            const clearCompare = document.getElementById('clearCompare');
            const startCompare = document.getElementById('startCompare');
            const selectedProducts = new Set();

            // 选择产品进行对比
            compareCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function () {
                    const productId = this.closest('.product-card').getAttribute('data-id');
                    const productImg = this.closest('.product-card').querySelector('.product-image').src;
                    const productTitle = this.closest('.product-card').querySelector('.product-title').textContent;

                    if (this.checked) {
                        // 如果已经选择了4个产品，取消当前选择
                        if (selectedProducts.size >= 4) {
                            this.checked = false;
                            alert('最多只能选择4个产品进行对比');
                            return;
                        }

                        // 添加到选中集合
                        selectedProducts.add(productId);

                        // 创建对比项
                        const compareItem = document.createElement('div');
                        compareItem.className = 'compare-item';
                        compareItem.setAttribute('data-id', productId);
                        compareItem.innerHTML = `
                            <img src="${productImg}" alt="${productTitle}" class="compare-item-img">
                            <span class="compare-item-remove" data-id="${productId}">
                                <i class="fas fa-times"></i>
                            </span>
                        `;
                        compareItems.appendChild(compareItem);

                        // 添加移除事件
                        const removeBtn = compareItem.querySelector('.compare-item-remove');
                        removeBtn.addEventListener('click', function (e) {
                            e.stopPropagation();
                            const productId = this.getAttribute('data-id');
                            removeCompareItem(productId);
                        });
                    } else {
                        // 从选中集合中移除
                        removeCompareItem(productId);
                    }

                    // 更新对比栏显示状态
                    updateCompareBarVisibility();
                });
            });

            // 移除对比项
            function removeCompareItem(productId) {
                selectedProducts.delete(productId);
                const compareItem = compareItems.querySelector(`.compare-item[data-id="${productId}"]`);
                if (compareItem) {
                    compareItems.removeChild(compareItem);
                }

                // 取消对应的复选框选中状态
                const checkbox = document.querySelector(`#compare-${productId}`);
                if (checkbox) {
                    checkbox.checked = false;
                }

                updateCompareBarVisibility();
            }

            // 更新对比栏显示状态
            function updateCompareBarVisibility() {
                if (selectedProducts.size > 0) {
                    compareBar.classList.add('show');
                } else {
                    compareBar.classList.remove('show');
                }
            }

            // 清空所有对比项
            if (clearCompare) {
                clearCompare.addEventListener('click', function () {
                    selectedProducts.clear();
                    compareItems.innerHTML = '';
                    compareCheckboxes.forEach(checkbox => {
                        checkbox.checked = false;
                    });
                    updateCompareBarVisibility();
                });
            }

            // 开始对比
            if (startCompare) {
                startCompare.addEventListener('click', function () {
                    if (selectedProducts.size < 2) {
                        alert('请至少选择2个产品进行对比');
                        return;
                    }

                    // 将选中的产品ID作为查询参数传递给对比页面
                    const compareUrl = `compare.html?products=${Array.from(selectedProducts).join(',')}`;
                    window.location.href = compareUrl;
                });
            }

            // 示例：价格范围滑块
            const minHandle = document.querySelector('.price-handle.min');
            const maxHandle = document.querySelector('.price-handle.max');
            const progress = document.querySelector('.price-progress');
            const minInput = document.querySelector('.price-input[placeholder="最低价"]');
            const maxInput = document.querySelector('.price-input[placeholder="最高价"]');

            if (minHandle && maxHandle && progress && minInput && maxInput) {
                // 这里应该实现价格滑块的拖动逻辑
                // 为了简单起见，这里只展示一个基本的输入框变化监听
                minInput.addEventListener('input', function () {
                    const minValue = parseInt(this.value) || 0;
                    const maxValue = parseInt(maxInput.value) || 1000;

                    if (minValue > maxValue) {
                        this.value = maxValue;
                    }
                });

                maxInput.addEventListener('input', function () {
                    const maxValue = parseInt(this.value) || 1000;
                    const minValue = parseInt(minInput.value) || 0;

                    if (maxValue < minValue) {
                        this.value = minValue;
                    }
                });
            }
        });
    </script>
</body>

</html>